<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="679px" preserveAspectRatio="none" style="width:918px;height:679px;" version="1.1" viewBox="0 0 918 679" width="918px" zoomAndPan="magnify"><defs><filter height="300%" id="f16lxmj1f6pgpu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class sharedIndexInformer--><rect fill="#FEFECE" filter="url(#f16lxmj1f6pgpu)" height="201.6563" id="sharedIndexInformer" style="stroke: #A80036; stroke-width: 1.5;" width="297" x="303" y="218"/><ellipse cx="382.75" cy="234" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M385.0938,229.6719 L385.2656,229.75 C385.4844,229.4375 385.6875,229.3438 385.9844,229.3438 C386.2813,229.3438 386.5625,229.4844 386.7188,229.75 C386.8125,229.9063 386.8281,230.0313 386.8281,230.4688 L386.8281,231.8906 C386.8281,232.3125 386.7969,232.5 386.6875,232.6563 C386.5156,232.875 386.25,233.0156 385.9844,233.0156 C385.7656,233.0156 385.5313,232.9063 385.3906,232.7656 C385.25,232.6406 385.2188,232.5156 385.1563,232.1094 C385.0625,231.7031 384.8906,231.4844 384.4063,231.2031 C383.9375,230.9531 383.3281,230.7969 382.75,230.7969 C381.0156,230.7969 379.7656,232.1094 379.7656,233.8906 L379.7656,234.9844 C379.7656,236.6875 381.0625,237.7813 383.1094,237.7813 C383.875,237.7813 384.5625,237.6563 384.9844,237.3906 C385.1719,237.2969 385.1719,237.2969 385.625,236.8125 C385.8125,236.625 386.0156,236.5469 386.2344,236.5469 C386.7031,236.5469 387.0938,236.9375 387.0938,237.3906 C387.0938,237.7813 386.7656,238.2344 386.1875,238.6406 C385.4375,239.1875 384.2813,239.4844 383.0625,239.4844 C380.1719,239.4844 378.0625,237.5938 378.0625,235.0156 L378.0625,233.8906 C378.0625,231.1719 380.0625,229.0938 382.6875,229.0938 C383.5625,229.0938 384.1563,229.2344 385.0938,229.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="129" x="403.25" y="238.1543">sharedIndexInformer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="304" x2="599" y1="250" y2="250"/><ellipse cx="314" cy="261.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="323" y="264.2104">indexer    Indexer</text><ellipse cx="314" cy="274.707" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="323" y="277.0151">controller Controller</text><ellipse cx="314" cy="287.5117" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="214" x="323" y="289.8198">processor             *sharedProcessor</text><ellipse cx="314" cy="300.3164" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="264" x="323" y="302.6245">cacheMutationDetector CacheMutationDetector</text><ellipse cx="314" cy="313.1211" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="323" y="315.4292">listerWatcher ListerWatcher</text><ellipse cx="314" cy="325.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="323" y="328.2339">objectType    runtime.Object</text><ellipse cx="314" cy="338.7305" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="323" y="341.0386">resyncCheckPeriod time.Duration</text><ellipse cx="314" cy="351.5352" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="271" x="323" y="353.8433">defaultEventHandlerResyncPeriod time.Duration</text><ellipse cx="314" cy="364.3398" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="323" y="366.6479">clock clock.Clock</text><ellipse cx="314" cy="377.1445" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="323" y="379.4526">started, stopped bool</text><ellipse cx="314" cy="389.9492" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="323" y="392.2573">startedLock      sync.Mutex</text><ellipse cx="314" cy="402.7539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="323" y="405.062">blockDeltas sync.Mutex</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="304" x2="599" y1="411.6563" y2="411.6563"/><!--class SharedIndexInformer--><rect fill="#FEFECE" filter="url(#f16lxmj1f6pgpu)" height="86.4141" id="SharedIndexInformer" style="stroke: #A80036; stroke-width: 1.5;" width="225" x="6" y="40"/><ellipse cx="48" cy="56" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M48.9531,52.7813 L48.9531,59.2969 L50.6719,59.2969 C51.125,59.2969 51.2656,59.3281 51.4375,59.4531 C51.6719,59.625 51.7813,59.875 51.7813,60.1563 C51.7813,60.7188 51.4219,61 50.6719,61 L45.5313,61 C45.125,61 44.9219,60.9531 44.7656,60.8281 C44.5469,60.6719 44.4063,60.4063 44.4063,60.1563 C44.4063,59.8594 44.5625,59.5781 44.8125,59.4219 C44.9688,59.3125 45.0938,59.2969 45.5313,59.2969 L47.25,59.2969 L47.25,52.7813 L45.5313,52.7813 C45.1094,52.7813 44.9219,52.75 44.7656,52.6406 C44.5469,52.4688 44.4063,52.2188 44.4063,51.9375 C44.4063,51.6563 44.5625,51.3594 44.8125,51.2031 C44.9688,51.1094 45.0938,51.0938 45.5313,51.0938 L50.6719,51.0938 C51.125,51.0938 51.2656,51.125 51.4375,51.2344 C51.6719,51.4063 51.7813,51.6719 51.7813,51.9375 C51.7813,52.2344 51.6406,52.5156 51.375,52.6719 C51.25,52.75 51.0625,52.7813 50.6719,52.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="133" x="68" y="60.1543">SharedIndexInformer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="230" y1="72" y2="72"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="12" y="86.2104">SharedInformer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="230" y1="92.8047" y2="92.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="12" y="107.0151">AddIndexers(indexers Indexers) error</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="12" y="119.8198">GetIndexer() Indexer</text><!--class Indexer--><rect fill="#FEFECE" filter="url(#f16lxmj1f6pgpu)" height="176.0469" id="Indexer" style="stroke: #A80036; stroke-width: 1.5;" width="279" x="45" y="486.5"/><ellipse cx="156.25" cy="502.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M157.2031,499.2813 L157.2031,505.7969 L158.9219,505.7969 C159.375,505.7969 159.5156,505.8281 159.6875,505.9531 C159.9219,506.125 160.0313,506.375 160.0313,506.6563 C160.0313,507.2188 159.6719,507.5 158.9219,507.5 L153.7813,507.5 C153.375,507.5 153.1719,507.4531 153.0156,507.3281 C152.7969,507.1719 152.6563,506.9063 152.6563,506.6563 C152.6563,506.3594 152.8125,506.0781 153.0625,505.9219 C153.2188,505.8125 153.3438,505.7969 153.7813,505.7969 L155.5,505.7969 L155.5,499.2813 L153.7813,499.2813 C153.3594,499.2813 153.1719,499.25 153.0156,499.1406 C152.7969,498.9688 152.6563,498.7188 152.6563,498.4375 C152.6563,498.1563 152.8125,497.8594 153.0625,497.7031 C153.2188,497.6094 153.3438,497.5938 153.7813,497.5938 L158.9219,497.5938 C159.375,497.5938 159.5156,497.625 159.6875,497.7344 C159.9219,497.9063 160.0313,498.1719 160.0313,498.4375 C160.0313,498.7344 159.8906,499.0156 159.625,499.1719 C159.5,499.25 159.3125,499.2813 158.9219,499.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="176.75" y="506.6543">Indexer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="46" x2="323" y1="518.5" y2="518.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="51" y="532.7104">Store</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="46" x2="323" y1="539.3047" y2="539.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="51" y="553.5151">Index(indexName string, obj interface{})</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="51" y="566.3198">..([]interface{}, error)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="51" y="579.1245">IndexKeys(indexName, indexKey string)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="51" y="591.9292">..([]string, error)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="267" x="51" y="604.7339">ListIndexFuncValues(indexName string) []string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="51" y="617.5386">ByIndex(indexName, indexKey string)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="51" y="630.3433">..([]interface{}, error)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="51" y="643.1479">GetIndexers() Indexers</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="51" y="655.9526">AddIndexers(newIndexers Indexers) error</text><!--class Controller--><rect fill="#FEFECE" filter="url(#f16lxmj1f6pgpu)" height="86.4141" id="Controller" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="63.5" y="276"/><ellipse cx="130.75" cy="292" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M131.7031,288.7813 L131.7031,295.2969 L133.4219,295.2969 C133.875,295.2969 134.0156,295.3281 134.1875,295.4531 C134.4219,295.625 134.5313,295.875 134.5313,296.1563 C134.5313,296.7188 134.1719,297 133.4219,297 L128.2813,297 C127.875,297 127.6719,296.9531 127.5156,296.8281 C127.2969,296.6719 127.1563,296.4063 127.1563,296.1563 C127.1563,295.8594 127.3125,295.5781 127.5625,295.4219 C127.7188,295.3125 127.8438,295.2969 128.2813,295.2969 L130,295.2969 L130,288.7813 L128.2813,288.7813 C127.8594,288.7813 127.6719,288.75 127.5156,288.6406 C127.2969,288.4688 127.1563,288.2188 127.1563,287.9375 C127.1563,287.6563 127.3125,287.3594 127.5625,287.2031 C127.7188,287.1094 127.8438,287.0938 128.2813,287.0938 L133.4219,287.0938 C133.875,287.0938 134.0156,287.125 134.1875,287.2344 C134.4219,287.4063 134.5313,287.6719 134.5313,287.9375 C134.5313,288.2344 134.3906,288.5156 134.125,288.6719 C134,288.75 133.8125,288.7813 133.4219,288.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="151.25" y="296.1543">Controller</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="266.5" y1="308" y2="308"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="266.5" y1="316" y2="316"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="69.5" y="330.2104">Run(stopCh &lt;-chan struct{})</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="69.5" y="343.0151">HasSynced() bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="69.5" y="355.8198">LastSyncResourceVersion() string</text><!--class sharedProcessor--><rect fill="#FEFECE" filter="url(#f16lxmj1f6pgpu)" height="112.0234" id="sharedProcessor" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="663.5" y="27"/><ellipse cx="727.75" cy="43" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M730.0938,38.6719 L730.2656,38.75 C730.4844,38.4375 730.6875,38.3438 730.9844,38.3438 C731.2813,38.3438 731.5625,38.4844 731.7188,38.75 C731.8125,38.9063 731.8281,39.0313 731.8281,39.4688 L731.8281,40.8906 C731.8281,41.3125 731.7969,41.5 731.6875,41.6563 C731.5156,41.875 731.25,42.0156 730.9844,42.0156 C730.7656,42.0156 730.5313,41.9063 730.3906,41.7656 C730.25,41.6406 730.2188,41.5156 730.1563,41.1094 C730.0625,40.7031 729.8906,40.4844 729.4063,40.2031 C728.9375,39.9531 728.3281,39.7969 727.75,39.7969 C726.0156,39.7969 724.7656,41.1094 724.7656,42.8906 L724.7656,43.9844 C724.7656,45.6875 726.0625,46.7813 728.1094,46.7813 C728.875,46.7813 729.5625,46.6563 729.9844,46.3906 C730.1719,46.2969 730.1719,46.2969 730.625,45.8125 C730.8125,45.625 731.0156,45.5469 731.2344,45.5469 C731.7031,45.5469 732.0938,45.9375 732.0938,46.3906 C732.0938,46.7813 731.7656,47.2344 731.1875,47.6406 C730.4375,48.1875 729.2813,48.4844 728.0625,48.4844 C725.1719,48.4844 723.0625,46.5938 723.0625,44.0156 L723.0625,42.8906 C723.0625,40.1719 725.0625,38.0938 727.6875,38.0938 C728.5625,38.0938 729.1563,38.2344 730.0938,38.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="748.25" y="47.1543">sharedProcessor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="664.5" x2="906.5" y1="59" y2="59"/><ellipse cx="674.5" cy="70.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="683.5" y="73.2104">listenersLock    sync.RWMutex</text><ellipse cx="674.5" cy="83.707" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="683.5" y="86.0151">listeners        []*processorListener</text><ellipse cx="674.5" cy="96.5117" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="683.5" y="98.8198">syncingListeners []*processorListener</text><ellipse cx="674.5" cy="109.3164" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="683.5" y="111.6245">clock            clock.Clock</text><ellipse cx="674.5" cy="122.1211" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="683.5" y="124.4292">wg               wait.Group</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="664.5" x2="906.5" y1="131.0234" y2="131.0234"/><!--class CacheMutationDetector--><rect fill="#FEFECE" filter="url(#f16lxmj1f6pgpu)" height="73.6094" id="CacheMutationDetector" style="stroke: #A80036; stroke-width: 1.5;" width="181" x="629" y="537.5"/><ellipse cx="644" cy="553.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M644.9531,550.2813 L644.9531,556.7969 L646.6719,556.7969 C647.125,556.7969 647.2656,556.8281 647.4375,556.9531 C647.6719,557.125 647.7813,557.375 647.7813,557.6563 C647.7813,558.2188 647.4219,558.5 646.6719,558.5 L641.5313,558.5 C641.125,558.5 640.9219,558.4531 640.7656,558.3281 C640.5469,558.1719 640.4063,557.9063 640.4063,557.6563 C640.4063,557.3594 640.5625,557.0781 640.8125,556.9219 C640.9688,556.8125 641.0938,556.7969 641.5313,556.7969 L643.25,556.7969 L643.25,550.2813 L641.5313,550.2813 C641.1094,550.2813 640.9219,550.25 640.7656,550.1406 C640.5469,549.9688 640.4063,549.7188 640.4063,549.4375 C640.4063,549.1563 640.5625,548.8594 640.8125,548.7031 C640.9688,548.6094 641.0938,548.5938 641.5313,548.5938 L646.6719,548.5938 C647.125,548.5938 647.2656,548.625 647.4375,548.7344 C647.6719,548.9063 647.7813,549.1719 647.7813,549.4375 C647.7813,549.7344 647.6406,550.0156 647.375,550.1719 C647.25,550.25 647.0625,550.2813 646.6719,550.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="149" x="658" y="557.6543">CacheMutationDetector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="630" x2="809" y1="569.5" y2="569.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="630" x2="809" y1="577.5" y2="577.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="635" y="591.7104">AddObject(obj interface{})</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="635" y="604.5151">Run(stopCh &lt;-chan struct{})</text><!--class ListerWatcher--><rect fill="#FEFECE" filter="url(#f16lxmj1f6pgpu)" height="99.2188" id="ListerWatcher" style="stroke: #A80036; stroke-width: 1.5;" width="209" x="635" y="269.5"/><ellipse cx="691.75" cy="285.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M692.7031,282.2813 L692.7031,288.7969 L694.4219,288.7969 C694.875,288.7969 695.0156,288.8281 695.1875,288.9531 C695.4219,289.125 695.5313,289.375 695.5313,289.6563 C695.5313,290.2188 695.1719,290.5 694.4219,290.5 L689.2813,290.5 C688.875,290.5 688.6719,290.4531 688.5156,290.3281 C688.2969,290.1719 688.1563,289.9063 688.1563,289.6563 C688.1563,289.3594 688.3125,289.0781 688.5625,288.9219 C688.7188,288.8125 688.8438,288.7969 689.2813,288.7969 L691,288.7969 L691,282.2813 L689.2813,282.2813 C688.8594,282.2813 688.6719,282.25 688.5156,282.1406 C688.2969,281.9688 688.1563,281.7188 688.1563,281.4375 C688.1563,281.1563 688.3125,280.8594 688.5625,280.7031 C688.7188,280.6094 688.8438,280.5938 689.2813,280.5938 L694.4219,280.5938 C694.875,280.5938 695.0156,280.625 695.1875,280.7344 C695.4219,280.9063 695.5313,281.1719 695.5313,281.4375 C695.5313,281.7344 695.3906,282.0156 695.125,282.1719 C695,282.25 694.8125,282.2813 694.4219,282.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="712.25" y="289.6543">ListerWatcher</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="636" x2="843" y1="301.5" y2="301.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="636" x2="843" y1="309.5" y2="309.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="641" y="323.7104">List(options metav1.ListOptions)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="641" y="336.5151">..(runtime.Object, error)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="641" y="349.3198">Watch(options metav1.ListOptions)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="641" y="362.1245">..(watch.Interface, error)</text><!--class SharedInformer--><rect fill="#FEFECE" filter="url(#f16lxmj1f6pgpu)" height="150.4375" id="SharedInformer" style="stroke: #A80036; stroke-width: 1.5;" width="362" x="266.5" y="8"/><ellipse cx="394.25" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M395.2031,20.7813 L395.2031,27.2969 L396.9219,27.2969 C397.375,27.2969 397.5156,27.3281 397.6875,27.4531 C397.9219,27.625 398.0313,27.875 398.0313,28.1563 C398.0313,28.7188 397.6719,29 396.9219,29 L391.7813,29 C391.375,29 391.1719,28.9531 391.0156,28.8281 C390.7969,28.6719 390.6563,28.4063 390.6563,28.1563 C390.6563,27.8594 390.8125,27.5781 391.0625,27.4219 C391.2188,27.3125 391.3438,27.2969 391.7813,27.2969 L393.5,27.2969 L393.5,20.7813 L391.7813,20.7813 C391.3594,20.7813 391.1719,20.75 391.0156,20.6406 C390.7969,20.4688 390.6563,20.2188 390.6563,19.9375 C390.6563,19.6563 390.8125,19.3594 391.0625,19.2031 C391.2188,19.1094 391.3438,19.0938 391.7813,19.0938 L396.9219,19.0938 C397.375,19.0938 397.5156,19.125 397.6875,19.2344 C397.9219,19.4063 398.0313,19.6719 398.0313,19.9375 C398.0313,20.2344 397.8906,20.5156 397.625,20.6719 C397.5,20.75 397.3125,20.7813 396.9219,20.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="414.75" y="28.1543">SharedInformer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="267.5" x2="627.5" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267.5" x2="627.5" y1="48" y2="48"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="272.5" y="62.2104">AddEventHandler(handler ResourceEventHandler)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="199" x="272.5" y="75.0151">AddEventHandlerWithResyncPeriod(</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="350" x="272.5" y="87.8198">..handler ResourceEventHandler, resyncPeriod time.Duration)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="272.5" y="100.6245">GetStore() Store</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="272.5" y="113.4292">GetController() Controller</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="272.5" y="126.2339">Run(stopCh &lt;-chan struct{})</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="272.5" y="139.0386">HasSynced() bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="272.5" y="151.8433">LastSyncResourceVersion() string</text><!--class Store--><rect fill="#FEFECE" filter="url(#f16lxmj1f6pgpu)" height="188.8516" id="Store" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="359" y="480"/><ellipse cx="455.25" cy="496" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M456.2031,492.7813 L456.2031,499.2969 L457.9219,499.2969 C458.375,499.2969 458.5156,499.3281 458.6875,499.4531 C458.9219,499.625 459.0313,499.875 459.0313,500.1563 C459.0313,500.7188 458.6719,501 457.9219,501 L452.7813,501 C452.375,501 452.1719,500.9531 452.0156,500.8281 C451.7969,500.6719 451.6563,500.4063 451.6563,500.1563 C451.6563,499.8594 451.8125,499.5781 452.0625,499.4219 C452.2188,499.3125 452.3438,499.2969 452.7813,499.2969 L454.5,499.2969 L454.5,492.7813 L452.7813,492.7813 C452.3594,492.7813 452.1719,492.75 452.0156,492.6406 C451.7969,492.4688 451.6563,492.2188 451.6563,491.9375 C451.6563,491.6563 451.8125,491.3594 452.0625,491.2031 C452.2188,491.1094 452.3438,491.0938 452.7813,491.0938 L457.9219,491.0938 C458.375,491.0938 458.5156,491.125 458.6875,491.2344 C458.9219,491.4063 459.0313,491.6719 459.0313,491.9375 C459.0313,492.2344 458.8906,492.5156 458.625,492.6719 C458.5,492.75 458.3125,492.7813 457.9219,492.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="34" x="475.75" y="500.1543">Store</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="360" x2="593" y1="512" y2="512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="360" x2="593" y1="520" y2="520"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="365" y="534.2104">Add(obj interface{}) error</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="365" y="547.0151">Update(obj interface{}) error</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="365" y="559.8198">Delete(obj interface{}) error</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="365" y="572.6245">List() []interface{}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="365" y="585.4292">ListKeys() []string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="365" y="598.2339">Get(obj interface{}) (item interface{},</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="365" y="611.0386">..exists bool, err error)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="365" y="623.8433">GetByKey(key string) (item interface{},</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="365" y="636.6479">..exists bool, err error)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="365" y="649.4526">Replace([]interface{}, string) error</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="365" y="662.2573">Resync() error</text><!--link SharedIndexInformer to sharedIndexInformer--><path d="M194.947,137.719 C228.846,161.54 269.868,190.367 309.071,217.915 " fill="none" id="SharedIndexInformer-sharedIndexInformer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="190.758,143.331,178.418,126.105,198.807,131.876,190.758,143.331" style="stroke: #A80036; stroke-width: 1.0;"/><!--link sharedIndexInformer to Indexer--><path d="M336.471,429.213 C316.361,448.306 295.681,467.94 276.305,486.337 " fill="none" id="sharedIndexInformer-Indexer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="345.975,420.19,338.8696,421.4202,337.2724,428.4522,344.3778,427.222,345.975,420.19" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Controller to sharedIndexInformer--><path d="M267.723,319 C275.051,319 282.379,319 289.708,319 " fill="none" id="Controller-sharedIndexInformer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="302.899,319,296.899,315,290.899,319,296.899,323,302.899,319" style="stroke: #A80036; stroke-width: 1.0;"/><!--link sharedProcessor to sharedIndexInformer--><path d="M706.77,139.158 C676.358,160.465 640.465,185.611 605.353,210.211 " fill="none" id="sharedProcessor-sharedIndexInformer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="594.488,217.823,601.6972,217.656,604.3157,210.9371,597.1066,211.1041,594.488,217.823" style="stroke: #A80036; stroke-width: 1.0;"/><!--link sharedIndexInformer to CacheMutationDetector--><path d="M566.963,429.216 C608.013,468.045 651.429,509.112 681.4,537.461 " fill="none" id="sharedIndexInformer-CacheMutationDetector" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="557.421,420.19,559.0308,427.2191,566.1384,428.4366,564.5286,421.4075,557.421,420.19" style="stroke: #A80036; stroke-width: 1.0;"/><!--link sharedIndexInformer to ListerWatcher--><path d="M613.501,319 C620.605,319 627.71,319 634.814,319 " fill="none" id="sharedIndexInformer-ListerWatcher" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="600.281,319,606.281,323,612.281,319,606.281,315,600.281,319" style="stroke: #A80036; stroke-width: 1.0;"/><!--link SharedIndexInformer to SharedInformer--><path d="M244.417,83 C251.72,83 259.022,83 266.325,83 " fill="none" id="SharedIndexInformer-SharedInformer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="231.272,83,237.272,87,243.272,83,237.272,79,231.272,83" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Indexer to Store--><path d="M337.433,574.5 C344.531,574.5 351.628,574.5 358.726,574.5 " fill="none" id="Indexer-Store" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="324.227,574.5,330.227,578.5,336.227,574.5,330.227,570.5,324.227,574.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
class sharedIndexInformer {
  +indexer    Indexer
  +controller Controller
  +processor             *sharedProcessor
  +cacheMutationDetector CacheMutationDetector
  +listerWatcher ListerWatcher
  +objectType    runtime.Object
  +resyncCheckPeriod time.Duration
  +defaultEventHandlerResyncPeriod time.Duration
  +clock clock.Clock
  +started, stopped bool
  +startedLock      sync.Mutex
  +blockDeltas sync.Mutex
}
SharedIndexInformer <|.. sharedIndexInformer
sharedIndexInformer o.. Indexer
sharedIndexInformer o.left. Controller
sharedProcessor ..o sharedIndexInformer
sharedIndexInformer o.. CacheMutationDetector
sharedIndexInformer o. ListerWatcher

interface SharedIndexInformer {
  SharedInformer
  AddIndexers(indexers Indexers) error
  GetIndexer() Indexer
}
SharedIndexInformer o. SharedInformer

interface SharedInformer {
  AddEventHandler(handler ResourceEventHandler)
  AddEventHandlerWithResyncPeriod(
  ..handler ResourceEventHandler, resyncPeriod time.Duration)
  GetStore() Store
  GetController() Controller
  Run(stopCh <-chan struct{})
  HasSynced() bool
  LastSyncResourceVersion() string
}

interface Store {
  Add(obj interface{}) error
  Update(obj interface{}) error
  Delete(obj interface{}) error
  List() []interface{}
  ListKeys() []string
  Get(obj interface{}) (item interface{},
  ..exists bool, err error)
  GetByKey(key string) (item interface{},
  ..exists bool, err error)
  Replace([]interface{}, string) error
  Resync() error
}

class sharedProcessor {
  +listenersLock    sync.RWMutex
  +listeners        []*processorListener
  +syncingListeners []*processorListener
  +clock            clock.Clock
  +wg               wait.Group
}

interface Indexer {
  Store
  Index(indexName string, obj interface{})
  ..([]interface{}, error)
  IndexKeys(indexName, indexKey string)
  ..([]string, error)
  ListIndexFuncValues(indexName string) []string
  ByIndex(indexName, indexKey string)
  ..([]interface{}, error)
  GetIndexers() Indexers
  AddIndexers(newIndexers Indexers) error
}
Indexer o. Store

interface ListerWatcher {
  List(options metav1.ListOptions)
  ..(runtime.Object, error)
  Watch(options metav1.ListOptions)
  ..(watch.Interface, error)
}

interface CacheMutationDetector {
  AddObject(obj interface{})
  Run(stopCh <-chan struct{})
}

interface Controller {
  Run(stopCh <-chan struct{})
  HasSynced() bool
  LastSyncResourceVersion() string
}
@enduml

PlantUML version 1.2017.16beta5(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>